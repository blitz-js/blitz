# Migration `20200215122325-start-fresh`

This migration has been generated by Brandon Bayer at 2/15/2020, 12:23:25 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Post" (
    "content" text  NOT NULL DEFAULT '',
    "id" SERIAL,
    "title" text  NOT NULL DEFAULT '',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Comment" (
    "content" text  NOT NULL DEFAULT '',
    "id" SERIAL,
    "post" integer  NOT NULL ,
    PRIMARY KEY ("id")
) 

ALTER TABLE "public"."Comment" ADD FOREIGN KEY ("post") REFERENCES "public"."Post"("id") ON DELETE RESTRICT
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200215122325-start-fresh
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,41 @@
+// This is your Prisma schema file,
+// learn more about it in the docs: https://pris.ly/d/prisma-schema
+
+// The `datasource` block is used to specify the connection to your DB.
+// Set the `provider` field to match your DB type: "postgresql", "mysql" or "sqlite".
+// The `url` field must contain the connection string to your DB.
+// Learn more about connection strings for your DB: https://pris.ly/d/connection-strings
+datasource db {
+  provider = "postgresql" // other options are: "mysql" and "sqlite"
+  url      = "postgresql://b@localhost:5432/snap5?connection_limit=1"
+}
+// Other examples for connection strings are:
+// SQLite: url = "sqlite:./dev.db"
+// MySQL:  url = "mysql://johndoe:johndoe@localhost:3306/mydb"
+// You can also use environment variables to specify the connection string: https://pris.ly/d/prisma-schema#using-environment-variables
+
+// By adding the `generator` block, you specify that you want to generate Prisma's DB client.
+// The client is generated by runnning the `prisma generate` command and will be located in `node_modules/@prisma` and can be imported in your code as:
+// import { PrismaClient } from '@prisma/client'
+generator client {
+  provider = "prisma-client-js"
+}
+
+// Next steps:
+// 1. Add your DB connection string as the `url` of the `datasource` block
+// 2. Run `prisma2 introspect` to get your data model into the schema (this will override this file and delete all comments!)
+// 3. Run `prisma2 generate` to generate Prisma Client JS
+// 4. Start using Prisma Client JS in your application
+
+model Post {
+  id    Int     @id @default(autoincrement())
+  title String
+  content String
+  comments Comment[]
+}
+
+model Comment {
+  id    Int     @id @default(autoincrement())
+  post Post
+  content String
+}
```


